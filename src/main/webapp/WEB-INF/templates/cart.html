<!--<!DOCTYPE html>-->
<!--<html lang="en" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="utf-8" />-->
<!--    <title>Cart</title>-->
<!--    <meta content="width=device-width, initial-scale=1.0" name="viewport" />-->
<!--    <meta content="Free HTML Templates" name="keywords" />-->
<!--    <meta content="Free HTML Templates" name="description" />-->

<!--    &lt;!&ndash; Favicon &ndash;&gt;-->
<!--    <link href="img/favicon.ico" rel="icon" th:href="@{/img/favicon.ico}" />-->

<!--    &lt;!&ndash; Google Web Fonts &ndash;&gt;-->
<!--    <link rel="preconnect" href="https://fonts.gstatic.com" />-->
<!--    <link-->
<!--            href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"-->
<!--            rel="stylesheet"-->
<!--    />-->

<!--    &lt;!&ndash; Font Awesome &ndash;&gt;-->
<!--    <link-->
<!--            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"-->
<!--            rel="stylesheet"-->
<!--    />-->

<!--    &lt;!&ndash; Libraries Stylesheet &ndash;&gt;-->
<!--    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" th:href="@{/lib/owlcarousel/assets/owl.carousel.min.css}" />-->

<!--    &lt;!&ndash; Customized Bootstrap Stylesheet &ndash;&gt;-->
<!--    <link href="css/style.css" rel="stylesheet" th:href="@{/css/style.css}" />-->
<!--</head>-->

<!--<body>-->
<!--&lt;!&ndash; Header &ndash;&gt;-->
<!--&lt;!&ndash;<div th:replace="fragments/header :: header"></div>&ndash;&gt;-->

<!--&lt;!&ndash; Body &ndash;&gt;-->
<!--<div class="container-fluid pt-5" id="product">-->
<!--    <div class="row px-xl-5">-->
<!--        &lt;!&ndash; Cart Start &ndash;&gt;-->
<!--        <div class="container-fluid pt-5">-->
<!--            <div class="row px-xl-5">-->
<!--                <div th:if="${showBill == null}" class="col-lg-8 table-responsive mb-5">-->
<!--                    <button class="btn btn-block btn-primary my-3 py-3 w-25" onclick="goBack()">-->
<!--                        &lt;&#45;&#45; Back-->
<!--                    </button>-->
<!--                    <table class="table table-bordered text-center mb-0">-->
<!--                        <thead class="bg-secondary text-dark">-->
<!--                        <tr>-->
<!--                            <th>ID</th>-->
<!--                            <th>Product Name</th>-->
<!--                            <th>Price</th>-->
<!--                            <th>Quantity</th>-->
<!--                            <th>Total</th>-->
<!--                            <th>Remove</th>-->
<!--                        </tr>-->
<!--                        </thead>-->
<!--                        <tbody class="align-middle">-->
<!--                        <tr th:each="cartItem : ${cart.values()}">-->
<!--                            <form action="cart" id="add-cart">-->
<!--                                <input type="hidden" name="service" value="update"/>-->
<!--                            </form>-->
<!--                            <td class="align-middle" th:text="${cartItem.product.id}"></td>-->
<!--                            <td class="align-middle">-->
<!--                                <img th:src="${cartItem.product.imageUrl}" alt="" style="width: 50px" />-->
<!--                                <span th:text="${cartItem.product.name}"></span>-->
<!--                            </td>-->
<!--                            <td class="align-middle" th:text="'$' + ${#numbers.formatDecimal(cartItem.product.price, 1, 2)}"></td>-->
<!--                            <td class="align-middle">-->
<!--                                <div class="input-group quantity mx-auto" style="width: 100px" >-->
<!--                                    <input-->
<!--                                            type="number"-->
<!--                                            class="form-control form-control-sm bg-secondary text-center"-->
<!--                                            th:value="${cartItem.quantity}"-->
<!--                                            form="add-cart"-->
<!--                                            th:name="'p' + ${cartItem.product.id}"-->
<!--                                    />-->
<!--                                </div>-->
<!--                            </td>-->
<!--                            <td class="align-middle" th:text="'$' + ${#numbers.formatDecimal(cartItem.product.price * cartItem.quantity, 1, 2)}"></td>-->
<!--                            <td class="align-middle">-->
<!--                                <a th:href="@{/cart(service='removeItem', id=${cartItem.product.id})}">-->
<!--                                    <button class="btn btn-sm btn-primary">-->
<!--                                        <i class="fa fa-times"></i>-->
<!--                                    </button>-->
<!--                                </a>-->
<!--                            </td>-->
<!--                        </tr>-->
<!--                        </tbody>-->
<!--                    </table>-->

<!--                    <button class="btn btn-block btn-primary my-3 py-3"-->
<!--                            style="float: left; width: 15%;"-->
<!--                            onclick="document.getElementById('add-cart').submit();" >-->
<!--                        Update-->
<!--                    </button>-->
<!--                    <a th:href="@{/cart(service='removeAll')}">-->
<!--                        <button class="btn btn-block btn-primary my-3 py-3"-->
<!--                                style="float: right; width: 15%;" >-->
<!--                            Remove all-->
<!--                        </button>-->
<!--                    </a>-->
<!--                </div>-->

<!--                <div th:if="${showBill == null}" class="col-lg-4">-->
<!--                    <div class="card border-secondary mb-5">-->
<!--                        <div class="card-header bg-secondary border-0">-->
<!--                            <h4 class="font-weight-semi-bold m-0">Cart Summary</h4>-->
<!--                        </div>-->
<!--                        <div class="card-body">-->
<!--                            <div class="d-flex justify-content-between mb-3 pt-1">-->
<!--                                <h6 class="font-weight-medium">Subtotal</h6>-->
<!--                                <h6 class="font-weight-medium" th:text="'$' + ${#numbers.formatDecimal(total, 1, 2)}"></h6>-->
<!--                            </div>-->
<!--                            <div class="d-flex justify-content-between">-->
<!--                                <h6 class="font-weight-medium">Shipping</h6>-->
<!--                                <h6 class="font-weight-medium">$0.00</h6>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <div class="card-footer border-secondary bg-transparent">-->
<!--                            <div class="d-flex justify-content-between mt-2">-->
<!--                                <h5 class="font-weight-bold">Total</h5>-->
<!--                                <h5 class="font-weight-bold" th:text="'$' + ${#numbers.formatDecimal(total, 1, 2)}"></h5>-->
<!--                            </div>-->

<!--                            <a th:href="@{/cart(service='checkOut')}">-->
<!--                                <button class="btn btn-block btn-primary my-3 py-3">-->
<!--                                    Proceed To Checkout-->
<!--                                </button>-->
<!--                            </a>-->
<!--                        </div>-->
<!--                        <div th:if="${checkOutDone != null}" class="card-header bg-secondary border-0 text-center">-->
<!--                            Checkout Done! See your <a th:href="@{/cart(service='showBill', billId=${BillId})}">Bill? (click here)</a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->

<!--                &lt;!&ndash;show bill detail&ndash;&gt;-->
<!--                <div th:if="${showBill != null}" class="col-lg-8 table-responsive mb-5">-->
<!--                    <h1 class="font-weight-semi-bold text-uppercase mb-3 text-center">-->
<!--                        Your Bill Here!-->
<!--                    </h1>-->
<!--                    <table class="table table-bordered text-center mb-0">-->
<!--                        <thead class="bg-secondary text-dark">-->
<!--                        <tr>-->
<!--                            <th>BillID</th>-->
<!--                            <th>Customer Name</th>-->
<!--                            <th>Created Date</th>-->
<!--                            <th>Product Name</th>-->
<!--                            <th>Quantity</th>-->
<!--                            <th>SubTotal</th>-->
<!--                        </tr>-->
<!--                        </thead>-->
<!--                        <tbody class="align-middle">-->
<!--                        <tr th:each="billDetail : ${billDetails}">-->
<!--                            <td class="align-middle" th:text="${billDetail.id}"></td>-->
<!--                            <td class="align-middle" th:text="${billDetail.customerName}"></td>-->
<!--                            <td class="align-middle" th:text="${#dates.format(billDetail.createdDate, 'dd-MM-yyyy HH:mm')}"></td>-->
<!--                            <td class="align-middle">-->
<!--                                <img th:src="${billDetail.imageUrl}" alt="" style="width: 50px" />-->
<!--                                <span th:text="${billDetail.productName}"></span>-->
<!--                            </td>-->
<!--                            <td class="align-middle" th:text="${billDetail.productQuantity}"></td>-->
<!--                            <td class="align-middle" th:text="'$' + ${#numbers.formatDecimal(billDetail.subTotal, 1, 2)}"></td>-->
<!--                        </tr>-->
<!--                        </tbody>-->
<!--                    </table>-->
<!--                </div>-->

<!--                <div th:if="${showBill != null}" class="col-lg-4" style="transform: translateY(65px)">-->
<!--                    <div class="card border-secondary mb-5">-->
<!--                        <div class="card-header bg-secondary border-0">-->
<!--                            <h4 class="font-weight-semi-bold m-0">Bill Summary</h4>-->
<!--                        </div>-->
<!--                        <div class="card-body">-->
<!--                            <div class="d-flex justify-content-between mb-3 pt-1">-->
<!--                                <h6 class="font-weight-medium">Subtotal</h6>-->
<!--                                <h6 class="font-weight-medium" th:text="'$' + ${#numbers.formatDecimal(total, 1, 2)}"></h6>-->
<!--                            </div>-->
<!--                            <div class="d-flex justify-content-between">-->
<!--                                <h6 class="font-weight-medium">Shipping</h6>-->
<!--                                <h6 class="font-weight-medium">$0.00</h6>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <div class="card-footer border-secondary bg-transparent">-->
<!--                            <div class="d-flex justify-content-between mt-2">-->
<!--                                <h5 class="font-weight-bold">Total</h5>-->
<!--                                <h5 class="font-weight-bold" th:text="'$' + ${#numbers.formatDecimal(total, 1, 2)}"></h5>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        &lt;!&ndash; Cart End &ndash;&gt;-->
<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; Footer &ndash;&gt;-->
<!--&lt;!&ndash;<div th:replace="fragments/footer :: footer"></div>&ndash;&gt;-->

<!--&lt;!&ndash; JavaScript Libraries &ndash;&gt;-->
<!--<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>-->
<!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>-->
<!--<script th:src="@{/lib/easing/easing.min.js}"></script>-->
<!--<script th:src="@{/lib/owlcarousel/owl.carousel.min.js}"></script>-->

<!--&lt;!&ndash; Contact Javascript File &ndash;&gt;-->
<!--<script th:src="@{/mail/jqBootstrapValidation.min.js}"></script>-->
<!--<script th:src="@{/mail/contact.js}"></script>-->

<!--&lt;!&ndash; Template Javascript &ndash;&gt;-->
<!--<script th:src="@{/js/main.js}"></script>-->
<!--<script>-->
<!--    function goBack() {-->
<!--        window.history.back();-->
<!--    }-->
<!--</script>-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Giỏ Hàng - VShopper</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .container {
            padding-top: 20px;
        }
        .text-primary {
            color: #007bff !important;
        }
    </style>
</head>
<body>

<div class="container">
    <h2 class="text-center mb-4">Giỏ Hàng Của Bạn</h2>

    <div th:if="${cart.items.isEmpty()}">
        <p class="text-center">Giỏ hàng của bạn hiện đang trống. <a href="customer">Quay lại cửa hàng</a> để tiếp tục mua sắm.</p>
    </div>

    <div th:if="${!cart.items.isEmpty()}">
        <table class="table table-bordered">
            <thead>
            <tr>
                <th>Sản phẩm</th>
                <th>Giá</th>
                <th>Số lượng</th>
                <th>Tổng cộng</th>
                <th>Hành động</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="cartItem : ${cart.items}">
                <td>
                    <div class="d-flex align-items-center">
                        <img th:src="${cartItem.product.imageUrl}" alt="Product Image" class="img-thumbnail" style="width: 50px; height: 50px; margin-right: 10px;">
                        <span th:text="${cartItem.product.name}"></span>
                    </div>
                </td>
                <td th:text="'$' + ${cartItem.product.price}"></td>
                <td>
                    <form action="#" th:action="@{/cart/update}" method="post">
                        <input type="hidden" th:name="productId" th:value="${cartItem.product.id}" />
                        <input type="number" name="quantity" min="1" class="form-control" th:value="${cartItem.quantity}" style="width: 60px;"/>
                        <button type="submit" class="btn btn-sm btn-outline-primary mt-1">Cập nhật</button>
                    </form>
                </td>
                <td th:text="'$' + ${cartItem.quantity * cartItem.product.price}"></td>
                <td>
                    <a th:href="@{/cart/remove(productId=${cartItem.product.id})}" class="btn btn-sm btn-danger">
                        <i class="fas fa-trash"></i> Xóa
                    </a>
                </td>
            </tr>
            </tbody>
            <tfoot>
            <tr>
                <td colspan="3" class="text-right font-weight-bold">Tổng tiền:</td>
                <td colspan="2" th:text="'$' + ${totalAmount}"></td>
            </tr>
            </tfoot>

        </table>

        <div class="text-right">
            <a th:href="@{/customer}" class="btn btn-secondary">Tiếp tục mua sắm</a>
            <a th:href="@{/cart/clear}" class="btn btn-warning">Xóa Tất Cả</a>
            <form th:action="@{/cart/checkout}" method="post" style="display: inline;">
                <button type="submit" class="btn btn-success">Thanh toán</button>
            </form>
        </div>

        <div th:if="${success != null}">
            <p class="alert alert-success mt-4" th:text="${success}"></p>
        </div>
    </div>
</div>

<!-- Optional JavaScript; choose one of the two! -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
</body>
</html>
